<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="常用Python,专攻Java后台，主修Embedding-Jetty+Jersey+Maven下restful风格的WebApp | 孟琦，Code & Write Lover,站在技术的眼光看世界| 这里是 @孟琦Poet 的个人博客，与你一起发现更大的世界。">
    <meta name="keywords"  content="孟琦, 孟琦poet, MengqiPoet, Python, Java, Embedding-Jetty, Jetty, Jersey, restful,技术, 互联网, 程序员, 文字爱好者">
    <meta name="theme-color" content="#000000">
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?9bdd7af941f3b61cecfa39d27b3e0560";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <title>Python3.5+PyQt5词频统计 - 孟琦的博客|MengqiPoet Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/2016/10/11/wordfrequence/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">八千流程序员的日常</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/project/">Project</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg.jpg')
    }

    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#Python" title="Python">Python</a>
                        
                        <a class="tag" href="/tags/#PyQt5" title="PyQt5">PyQt5</a>
                        
                        <a class="tag" href="/tags/#词频统计" title="词频统计">词频统计</a>
                        
                    </div>
                    <h1>Python3.5+PyQt5词频统计</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    
                    <span class="meta">Posted by 孟琦Poet on October 11, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<h2 id="一需求分析">一、需求分析</h2>
<hr />
<p>统计给定英文文档中单词出现的频率，要求速度快、准确率高，有良好的交互界面，初期实现简单的分词、统计功能，不考虑词形变换等复杂情况，中期要实现相对简单的词形还原任务，后期实现复杂的词形变换还原（需要较强的自然语言处理能力，暂不考虑）</p>

<h2 id="二环境搭建">二、环境搭建</h2>
<hr />

<p>| 所需环境 | 推荐工具 |
| ————- |:————-:| —–:|
|Python编程工具|<em>PyCharm 2016.2</em>|
|Python版本|<em>Python 3.5</em>|
|PyQt版本|<em>PyQt5</em> |
|界面设计| <em>QtDesigner</em>|
|打包程序| <em>pyinstaller</em>|</p>
<ul>
  <li>1、官网下载安装Python3.5</li>
  <li>2、官网下载安装PyCharm</li>
  <li>3、可以在PyCharm打开setting&gt;Project Interpreter&gt;点击加号搜索PyQt5直接安装，其他安装方式请自行搜索</li>
  <li>4、下载Qt5.7安装，自带QtDesigner和QtCreator
<strong>注意事项</strong>
网上搜索许多PyQt教程，他们的PyQt5中一般自带QtDesigner程序，不知道为什么我的没有，所以只好下载完整的Qt5.7安装包</li>
  <li>5、PyInstaller支持Python3，cx_Freeze暂不支持</li>
</ul>

<h2 id="三测试案例">三、测试案例</h2>
<hr />
<p>使用1M、20M、100M的txt文档，1M、100M的doc文档，50M的docx文档，一个小型的数字文档测试对数字分词的准确率</p>

<p><img src="http://upload-images.jianshu.io/upload_images/1826540-4202a35306bbbf95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="第一次次测试文档" /></p>

<p><img src="http://upload-images.jianshu.io/upload_images/1826540-145e88487ee50456.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="第二次测试文档" /></p>

<h2 id="四ui设计">四、UI设计</h2>
<hr />
<ul>
  <li>1、在PyCharm中添加External Tools中添加QtDesigner和PyUIC工具
打开PyCharm&gt;File&gt;Settings&gt;Tools&gt;External Tools，单击＋号添加工具，出现下图界面
Name：自己定义
Group：External Tools
Program：QtDesigner.exe所在位置
Working directory：$ProjectFileDir$
<img src="http://upload-images.jianshu.io/upload_images/1826540-993b0cd29b182ba3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QtDesigner" />
其他配置如上
Parameters：<code class="highlighter-rouge">-m PyQt5.uic.pyuic  $FileName$ -o $FileNameWithoutExtension$.py</code>
<img src="http://upload-images.jianshu.io/upload_images/1826540-68a808015e1d5e09.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="PyUIC" />
配置完成后会在Tools&gt;External Tools 中显示出来添加的工具
<img src="http://upload-images.jianshu.io/upload_images/1826540-78d40a1fca66d09a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="External Tools" /></li>
</ul>

<hr />
<ul>
  <li>2、启动QtDesigner，新建Main Window窗体
<strong>启动QtDesinger时，确保电源选项高级设置中可切换动态显卡全局设置为最佳性能，我的win10系统A卡显卡切换成最大化性能将会导致无法启动QtDesinger，具体原因不清楚</strong>
<img src="http://upload-images.jianshu.io/upload_images/1826540-8a4297e46ae4b9c1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="最佳性能" />
Qt5.7中集成QtCreator、QtDesinger，二者都可以创建UI文件，设计界面，本文使用后者，前者功能更强大，有兴趣的同学可以尝试
<img src="http://upload-images.jianshu.io/upload_images/1826540-06ad2c0d9f6d9c3c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QtDesinger" />
创建Main Window后，可以在左侧看到具体的窗口插件，Qt支持多种小插件，我还不怎么会使用。将插件拖到中间主体窗口，调整布局即可完成UI设计，右侧显示的是窗体属性和信号槽设计区，使用Qt的信号槽机制可以完成多种逻辑操作。Ctrl+r组合可以预览界面。
<img src="http://upload-images.jianshu.io/upload_images/1826540-fbf99648b193334b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UI设计" />
我自己设计的原始UI已经删除，下图是成品样子
<img src="http://upload-images.jianshu.io/upload_images/1826540-ffede10c42670a15.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UI成品" /></li>
</ul>

<hr />
<ul>
  <li>3、UI设计完成后，直接使用PyUIC工具生成.py文件，在PyCharm中选中ui文件，然后点击运行PyUIC即可，以下代码自动生成。
    <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># -*- coding: utf-8 -*-</span>
<span class="c"># Form implementation generated from reading ui file 'untitled.ui'</span>
<span class="c">#</span>
<span class="c"># Created by: PyQt5 UI code generator 5.7</span>
<span class="c">#</span>
<span class="c"># WARNING! All changes made in this file will be lost!</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>
<span class="k">class</span> <span class="nc">Ui_mainWindow</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mainWindow</span><span class="p">):</span>
      <span class="n">mainWindow</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">)</span>
      <span class="n">mainWindow</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">521</span><span class="p">,</span> <span class="mi">555</span><span class="p">)</span>
      <span class="n">icon</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">()</span>
      <span class="n">icon</span><span class="o">.</span><span class="n">addPixmap</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="s">"C:</span><span class="se">\\</span><span class="s">Python35</span><span class="se">\\</span><span class="s">Lib</span><span class="se">\\</span><span class="s">site-packages</span><span class="se">\\</span><span class="s">cx_Freeze</span><span class="se">\\</span><span class="s">samples</span><span class="se">\\</span><span class="s">unti</span><span class="se">\\</span><span class="s">1.png"</span><span class="p">),</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Off</span><span class="p">)</span>
      <span class="n">mainWindow</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">icon</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">(</span><span class="n">mainWindow</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"centralwidget"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">510</span><span class="p">,</span> <span class="mi">451</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">""</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"label"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">textBrowser_2</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTextBrowser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">textBrowser_2</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span> <span class="mi">401</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">textBrowser_2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"textBrowser_2"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">482</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"horizontalLayoutWidget"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"horizontalLayout"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pushButton</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_2</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton_2"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pushButton_2</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_3</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_3</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton_3"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pushButton_3</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_4</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_4</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton_4"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pushButton_4</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_5</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_5</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton_5"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pushButton_5</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_6</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_6</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton_6"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pushButton_6</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_7</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_7</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">23</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_7</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"pushButton_7"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_2</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_2</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">260</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"lineEdit_2"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">layoutWidget</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">layoutWidget</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">61</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">layoutWidget</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"layoutWidget"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_2</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_2</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"verticalLayout_2"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label_2</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label_2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"label_2"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_2</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_2</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layoutWidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"lineEdit"</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_2</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEdit</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QProgressBar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">441</span><span class="p">,</span> <span class="mi">23</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s">"value"</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">"progressBar"</span><span class="p">)</span>
      <span class="n">mainWindow</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralwidget</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">retranslateUi</span><span class="p">(</span><span class="n">mainWindow</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_6</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mainWindow</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
      <span class="n">QtCore</span><span class="o">.</span><span class="n">QMetaObject</span><span class="o">.</span><span class="n">connectSlotsByName</span><span class="p">(</span><span class="n">mainWindow</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">retranslateUi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mainWindow</span><span class="p">):</span>
      <span class="n">_translate</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QCoreApplication</span><span class="o">.</span><span class="n">translate</span>
      <span class="n">mainWindow</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"词频统计"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"打开文档"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"统计词频"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"批量查询"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_4</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"清除所有"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_5</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"保存结果"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_6</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"退出程序"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pushButton_7</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"查询"</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">label_2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">_translate</span><span class="p">(</span><span class="s">"mainWindow"</span><span class="p">,</span> <span class="s">"输入查询单词"</span><span class="p">))</span>
</code></pre>
    </div>
    <p>添加图标<code class="highlighter-rouge">icon.addPixmap(QtGui.QPixmap(path), QtGui.QIcon.Normal, QtGui.QIcon.Off)</code>
UI中加入六个<code class="highlighter-rouge">PushButton</code>组成第一排基本操作按钮
一个<code class="highlighter-rouge">Label</code>提示输入查询单词
另一个<code class="highlighter-rouge">Label</code>在最下方显示统计单词耗费的时间
UI右侧是一个<code class="highlighter-rouge">Text Browser</code>显示统计结果
最下方还有一个进度条<code class="highlighter-rouge">ProgressBar</code></p>
  </li>
</ul>

<h2 id="五主程序编写">五、主程序编写</h2>
<p>##一、打开文件</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#打开文件</span>
<span class="n">filename_tup</span><span class="o">=</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s">'选择文件'</span><span class="p">)</span>
<span class="k">if</span> <span class="n">filename_tup</span><span class="o">==</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">):</span> <span class="c">#点击打开文件按钮但未选择文件，为防止闪退，设置pass</span>
        <span class="k">pass</span>           
    <span class="k">elif</span> <span class="n">filename_tup</span> <span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="o">=</span><span class="p">{}</span> <span class="c">#初始化字典</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c">#显示进度条</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="o">&lt;</span><span class="mi">50</span><span class="p">:</span> <span class="c">#设置进度条速度，先加载50%，然后读入文件，最后再加载%50</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="o">+=</span><span class="mf">0.0001</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">)</span>
</code></pre>
</div>
<p>##二、读取文件，存入字典</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#读取文件，存入字典</span>
<span class="n">doctype</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'</span><span class="err">\</span><span class="s">..+'</span><span class="p">,</span> <span class="n">filename_tup</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c">#使用正则表达式找出文件类型名</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">()</span> <span class="c">#设置开始时间点</span>
<span class="k">if</span> <span class="n">doctype</span><span class="o">==</span><span class="p">[</span><span class="s">'.txt'</span><span class="p">]:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename_tup</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s">'r'</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span> <span class="c">#如果是txt文档打开后逐行读入</span>
            <span class="n">words_list</span><span class="o">=</span><span class="p">[]</span>
            <span class="n">words_list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'</span><span class="err">\</span><span class="s">d+</span><span class="err">\</span><span class="s">.</span><span class="err">\</span><span class="s">d+|[a-z0-9A-Z]+'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="c">#使用正则表达式找出每一行的单词和数字，存入列表</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">words_list</span><span class="p">:</span> 
                 <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">):</span>  <span class="c">#如果列表中的单词不存在于字典中，将单词存入字典，初始value置1</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                 <span class="k">else</span><span class="p">:</span>  <span class="c">#如果列表中的单词存在于字典中，将单词存入字典，value加1</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">elif</span> <span class="n">doctype</span><span class="o">==</span><span class="p">[</span><span class="s">'.docx'</span><span class="p">]</span> <span class="ow">or</span> <span class="n">doctype</span><span class="o">==</span><span class="p">[</span><span class="s">'.wps'</span><span class="p">]:</span> <span class="c">#如果是docx文件，使用docx模块读取</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">docx</span><span class="o">.</span><span class="n">Document</span><span class="p">(</span><span class="n">filename_tup</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pc</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">paragraphs</span>
    <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">pc</span><span class="p">:</span>
        <span class="n">words_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">words_list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'</span><span class="err">\</span><span class="s">d+</span><span class="err">\</span><span class="s">.</span><span class="err">\</span><span class="s">d+|[a-z0-9A-Z]+'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">each</span><span class="o">.</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">words_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
     <span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename_tup</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">end</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">()</span>  <span class="c">#结束时间</span>
<span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">:</span>  <span class="c">#加载剩余%50进度条</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="o">+</span><span class="mf">0.0001</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> 
<span class="bp">self</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span> <span class="c">#0.3秒后隐藏进度条</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">'导入成功  耗时:'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">))</span>  <span class="c">#在下方的label中显示消耗时间</span>
</code></pre>
</div>
<p>##三、统计词频
<strong>将字典中的单词按照key值(即单词)降序排序，如不考虑词形变换还原情况，直接输出结果即可</strong></p>
<div class="highlighter-rouge"><pre class="highlight"><code>dict=sorted(self.sword_dic.items(), key=lambda d: d[0], reverse=False) 
</code></pre>
</div>

<p>**以下程序是进行简单的词形还原，仅考虑后缀为<code class="highlighter-rouge">houzhui = ['s', 'es', 'ed', 'd', 'ing']</code>的情况，不具有参考性，具体的还原过程可以使用NLTK模块中的<code class="highlighter-rouge">lemmatizer</code>语法，详情参考<a href="http://www.zmonster.me/">ZMonster’s Blog</a>关于词干提取词形还原的文章 **</p>
<blockquote>
  <p>http://www.zmonster.me/2016/01/21/lemmatization-survey.html</p>
</blockquote>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">dict</span><span class="p">:</span> <span class="c">#将key和value分别存入两个列表</span>
    <span class="n">k_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="n">v_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="nb">dict</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">k_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">k_list</span><span class="p">)</span> <span class="c">#len出列表长度</span>
<span class="n">houzhui</span> <span class="o">=</span> <span class="p">[</span><span class="s">'s'</span><span class="p">,</span> <span class="s">'es'</span><span class="p">,</span> <span class="s">'ed'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'ing'</span><span class="p">]</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">k_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span> <span class="c">#从第一个单词开始进行词形还原</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">k_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span> <span class="c">#还原的都是长度大于2的单词</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">houzhui</span><span class="p">:</span> <span class="c">#对于后缀列表中的每个后缀，如果单词加上后缀后等于后一个单词，则将后一个单词变为前一个单词，</span>
                             <span class="c">#如第三个单词'egg'+'s'==第四个单词'eggs'，将第四个'eggs'变为'egg'</span>
            <span class="k">if</span> <span class="n">k_list</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">k_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">each</span><span class="p">:</span>
                <span class="n">k_list</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">k_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">k_list</span><span class="p">:</span> <span class="c">#变换完成后，再次统计词频，存在key，value两个列表中</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">k_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k_len</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">num</span> <span class="o">==</span> <span class="n">k_list</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="n">v_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">v_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">v_list</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">k_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">v_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">k_len</span> <span class="o">=</span> <span class="n">k_len</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">i</span><span class="o">=</span><span class="mi">0</span>
<span class="n">k_len</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">k_list</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="o">=</span><span class="p">{}</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">k_len</span><span class="p">:</span>  <span class="c">#key、value列表转为字典</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">[</span><span class="n">k_list</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">=</span><span class="n">v_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="o">=</span><span class="p">{}</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">:</span> <span class="c">#在'textBrowser'中插入统计结果</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">textBrowser_2</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s">' 出现 '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s">' 次</span><span class="se">\n</span><span class="s">'</span><span class="p">))</span>
</code></pre>
</div>
<p>##四、查询单词频率</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">temp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEdit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>  <span class="c">#获取linEdit中输入的单词</span>
<span class="k">if</span> <span class="n">temp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">temp</span><span class="o">+</span><span class="s">' 出现 '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">[</span><span class="n">temp</span><span class="p">])</span><span class="o">+</span><span class="s">' 次'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">'未查找到'</span><span class="p">)</span>
</code></pre>
</div>
<p>##五、批量查询</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">filename_tup</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">'选择文件'</span><span class="p">)</span>
<span class="k">if</span> <span class="n">filename_tup</span><span class="o">==</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">):</span>
    <span class="k">pass</span>
<span class="k">elif</span> <span class="n">filename_tup</span> <span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename_tup</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>  <span class="c">#将要查询的单词统一放在txt文档中，读取稳定将单词写入查询列表</span>
            <span class="n">words_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">words_list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'</span><span class="err">\</span><span class="s">d+</span><span class="err">\</span><span class="s">.</span><span class="err">\</span><span class="s">d+|[a-z0-9A-Z]+'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">words_list</span><span class="p">:</span>
                <span class="n">query_word</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">each</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">query_word</span><span class="p">:</span>  <span class="c">#对列表中的每个单词进行查询并输出结果</span>
    <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textBrowser_2</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s">' 出现 '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">+</span> <span class="s">' 次</span><span class="se">\n</span><span class="s">'</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textBrowser_2</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s">'不存在</span><span class="se">\n</span><span class="s">'</span><span class="p">))</span>
</code></pre>
</div>
<p>##六、保存查询结果</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code> <span class="n">filename</span><span class="o">=</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s">'文件保存'</span><span class="p">,</span><span class="s">'D:/'</span><span class="p">,</span><span class="s">'Text Files (*.txt)'</span><span class="p">)</span>  <span class="c">#PyQt5中保存文件的语句</span>
<span class="k">if</span> <span class="n">filename</span><span class="o">==</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">):</span>
    <span class="k">pass</span>
<span class="k">elif</span> <span class="n">filename</span><span class="p">:</span>
    <span class="n">fn</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s">'w'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sword_dic</span><span class="p">:</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">writelines</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s">' occur '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s">' times</span><span class="se">\n</span><span class="s">'</span><span class="p">))</span>
    <span class="n">fn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>
<p>##七、主函数和程序入口</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#主函数</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app</span><span class="o">=</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">win</span><span class="o">=</span><span class="n">ExampleApp</span><span class="p">()</span>
    <span class="n">win</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

<span class="c">#程序入口</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre>
</div>
<p>##八、打包程序
cmd下使用<code class="highlighter-rouge">pyinstaller -F -w -i 图标名.ico 文件名.py</code>命令进行打包
-F 打包成一个exe文件
-i  图标
-w 使用窗口，无控制台
打包过程中遇到了一个找不到crt,runtime,dll之类的问题，具体记不清楚了，大概是因为缺少的dll放在了win10系统的<code class="highlighter-rouge">C:\Windows\WinSxS</code>中，把这个文件夹加入系统变量中后打包成功
##九、测试程序
<img src="http://upload-images.jianshu.io/upload_images/1826540-072f60797366df43.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="100M测试文档" />
<img src="http://upload-images.jianshu.io/upload_images/1826540-ce06e48a7f557172.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="文件读取中" />
<img src="http://upload-images.jianshu.io/upload_images/1826540-f16f6d5d3cc6a497.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="导入文档消耗时间" />
<img src="http://upload-images.jianshu.io/upload_images/1826540-52492b6d4a70982e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="统计结果" />
<img src="http://upload-images.jianshu.io/upload_images/1826540-73734d7b771098e8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="结果对比" />
<img src="http://upload-images.jianshu.io/upload_images/1826540-e786ea72564be647.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="数字统计" />
##总结
这个程序是我们软件工程课的作业，本文提供的代码不是最终版，最终版源码文件因为放在C盘不小心删除，只保存了这一版，所以如有错误请指教。
因为选择的数据结构不理想，所以在读取大文件的时候，速度会很慢，100M的txt文件大概需要20s，正常使用字典树可以控制在10s以内，有兴趣的同学可以尝试下</p>


                <hr style="visibility: hidden;">

                


                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2016/12/06/socketMIME/" data-toggle="tooltip" data-placement="top" title="Python Socket编程：利用SMTP发送MIME协议邮件">
                        Next<br>
                        <span>Python Socket编程：利用SMTP发送MIME协议邮件</span>
                        </a>
                    </li>
                    
                </ul>


                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

                
                <!-- 网易云跟帖 评论框 start -->
                <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
                <!-- 网易云跟帖 评论框 end -->
                
            </div>  

    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#Python" title="Python" rel="3">
                                    Python
                                </a>
                            
        				
                            
                				<a href="/tags/#PyQt5" title="PyQt5" rel="2">
                                    PyQt5
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
                    
                        <li><a href="https://github.com/xfmao">xfmao</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>





<!-- 网易云跟帖JS代码 start -->
<script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
<script>
  var cloudTieConfig = {
    url: document.location.href, 
    sourceId: "",
    productKey: "de25fc98a6fe48b3bc8a7ae765da99a0",
    target: "cloud-tie-wrapper"
  };
  var yunManualLoad = true;
  Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
</script>
<!-- 网易云跟帖JS代码 end -->




<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "qimeng";
    var disqus_identifier = "/2016/10/11/wordfrequence";
    var disqus_url = "http://localhost:4000/2016/10/11/wordfrequence/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    
                    
                    <li>
                        <a href="http://www.jianshu.com/u/c0d6b78d8476">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">简</i>
                            </span>
                        </a>
                    </li>
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/ss-aa-2">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/tianxiadisichou">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/Mengqi777">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/琦-孟-21745212b">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; 八千流程序员的日常 2022
                    <br>
            <div style="width:300px;margin:0 auto; padding:20px 0;">
                <a href="https://beian.miit.gov.cn" style="color:#939393; display:inline-block;text-decoration:none;">京ICP备2022018054号-1</a>
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11011402012718" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;">
                <img src="/img/beian.png" style="float:left;"/>
                <p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">京公网安备 11011402012718号</p></a>
            </div>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script type="text/javascript">
    if(navigator.serviceWorker){
        // For security reasons, a service worker can only control the pages that are in the same directory level or below it. That's why we put sw.js at ROOT level.
        navigator.serviceWorker
            .register('/sw.js')
            .then((registration) => {console.log('Service Worker Registered. ', registration)})
            .catch((error) => {console.log('ServiceWorker registration failed: ', error)})
    }
</script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/ 
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers   
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async('/js/jquery.tagcloud.js',function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-100729934-1';
    var _gaDomain = 'www.mengqipoet.cn';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->




<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
